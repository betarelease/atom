{"_id":"line-chomper","_rev":"18-a169e7db8ed54c2ecc96c98895eec598","name":"line-chomper","description":"Chomps utf-8 based byte stream into lines.","dist-tags":{"latest":"0.5.0"},"versions":{"0.0.4":{"name":"line-chomper","version":"0.0.4","description":"Chomps utf-8 based byte stream into lines.","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git://github.com/panta82/line-chomper.git"},"keywords":["stream","lines","split","chomp","buffer","cut"],"author":{"name":"panta82"},"license":"Apache 2","bugs":{"url":"https://github.com/panta82/line-chomper/issues"},"homepage":"https://github.com/panta82/line-chomper","_id":"line-chomper@0.0.4","dist":{"shasum":"b3e77c98d9a9449b54f867e16dfe77ba00cfc855","tarball":"http://registry.npmjs.org/line-chomper/-/line-chomper-0.0.4.tgz"},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"panta82","email":"ivanpantic82@gmail.com"},"maintainers":[{"name":"panta82","email":"ivanpantic82@gmail.com"}],"directories":{}},"0.2.1":{"name":"line-chomper","version":"0.2.1","description":"Chomps utf-8 based byte stream into lines.","main":"index.js","scripts":{"test":"./testall.sh"},"repository":{"type":"git","url":"git://github.com/panta82/line-chomper.git"},"keywords":["stream","lines","split","chomp","buffer","cut"],"author":{"name":"panta82"},"license":"Apache 2","bugs":{"url":"https://github.com/panta82/line-chomper/issues"},"homepage":"https://github.com/panta82/line-chomper","_id":"line-chomper@0.2.1","dist":{"shasum":"1cc0b18d316cf606984a0b2e3f3ff300da625f99","tarball":"http://registry.npmjs.org/line-chomper/-/line-chomper-0.2.1.tgz"},"_from":".","_npmVersion":"1.3.8","_npmUser":{"name":"panta82","email":"ivanpantic82@gmail.com"},"maintainers":[{"name":"panta82","email":"ivanpantic82@gmail.com"}],"directories":{}},"0.4.0":{"name":"line-chomper","version":"0.4.0","description":"Chomps utf-8 based byte stream into lines.","main":"index.js","scripts":{"test":"./testall.sh"},"repository":{"type":"git","url":"git://github.com/panta82/line-chomper.git"},"keywords":["stream","lines","split","chomp","buffer","cut"],"author":{"name":"panta82"},"license":"Apache 2","bugs":{"url":"https://github.com/panta82/line-chomper/issues"},"homepage":"https://github.com/panta82/line-chomper","_id":"line-chomper@0.4.0","dist":{"shasum":"eaa5da72282c75f9145aa127b6574bf53fd13810","tarball":"http://registry.npmjs.org/line-chomper/-/line-chomper-0.4.0.tgz"},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"panta82","email":"ivanpantic82@gmail.com"},"maintainers":[{"name":"panta82","email":"ivanpantic82@gmail.com"}],"directories":{}},"0.4.2":{"name":"line-chomper","version":"0.4.2","description":"Chomps utf-8 based byte stream into lines.","main":"index.js","scripts":{"test":"./testall.sh"},"repository":{"type":"git","url":"git://github.com/panta82/line-chomper.git"},"keywords":["stream","lines","split","chomp","buffer","cut"],"author":{"name":"panta82"},"license":"Apache 2","bugs":{"url":"https://github.com/panta82/line-chomper/issues"},"homepage":"https://github.com/panta82/line-chomper","_id":"line-chomper@0.4.2","dist":{"shasum":"308fa242a1203d79982f1c37f6f6c7592fba8a08","tarball":"http://registry.npmjs.org/line-chomper/-/line-chomper-0.4.2.tgz"},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"panta82","email":"ivanpantic82@gmail.com"},"maintainers":[{"name":"panta82","email":"ivanpantic82@gmail.com"}],"directories":{}},"0.4.3":{"name":"line-chomper","version":"0.4.3","description":"Chomps utf-8 based byte stream into lines.","main":"index.js","scripts":{"test":"./testall.sh"},"repository":{"type":"git","url":"git://github.com/panta82/line-chomper.git"},"keywords":["stream","lines","split","chomp","buffer","cut"],"author":{"name":"panta82"},"license":"Apache 2","bugs":{"url":"https://github.com/panta82/line-chomper/issues"},"homepage":"https://github.com/panta82/line-chomper","_id":"line-chomper@0.4.3","_shasum":"54629103abe2244594fac56877e26048f71bb62a","_from":".","_npmVersion":"1.4.9","_npmUser":{"name":"panta82","email":"ivanpantic82@gmail.com"},"maintainers":[{"name":"panta82","email":"ivanpantic82@gmail.com"}],"dist":{"shasum":"54629103abe2244594fac56877e26048f71bb62a","tarball":"http://registry.npmjs.org/line-chomper/-/line-chomper-0.4.3.tgz"},"directories":{}},"0.4.4":{"name":"line-chomper","version":"0.4.4","description":"Chomps utf-8 based byte stream into lines.","main":"index.js","scripts":{"test":"./testall.sh"},"repository":{"type":"git","url":"git://github.com/panta82/line-chomper.git"},"keywords":["stream","lines","split","chomp","buffer","cut"],"author":{"name":"panta82"},"license":"Apache 2","bugs":{"url":"https://github.com/panta82/line-chomper/issues"},"homepage":"https://github.com/panta82/line-chomper","_id":"line-chomper@0.4.4","dist":{"shasum":"214bcf8e89cd9b8b74eb7e148aa5843b007a4db1","tarball":"http://registry.npmjs.org/line-chomper/-/line-chomper-0.4.4.tgz"},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"panta82","email":"ivanpantic82@gmail.com"},"maintainers":[{"name":"panta82","email":"ivanpantic82@gmail.com"}],"directories":{}},"0.4.5":{"name":"line-chomper","version":"0.4.5","description":"Chomps utf-8 based byte stream into lines.","main":"index.js","scripts":{"test":"./testall.sh"},"repository":{"type":"git","url":"git://github.com/panta82/line-chomper.git"},"keywords":["stream","lines","split","chomp","buffer","cut"],"author":{"name":"panta82"},"license":"Apache 2","bugs":{"url":"https://github.com/panta82/line-chomper/issues"},"homepage":"https://github.com/panta82/line-chomper","_id":"line-chomper@0.4.5","dist":{"shasum":"86ecd1b4891712004012e94eae8633abde1e4646","tarball":"http://registry.npmjs.org/line-chomper/-/line-chomper-0.4.5.tgz"},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"panta82","email":"ivanpantic82@gmail.com"},"maintainers":[{"name":"panta82","email":"ivanpantic82@gmail.com"}],"directories":{}},"0.5.0":{"name":"line-chomper","version":"0.5.0","description":"Chomps utf-8 based byte stream into lines.","main":"index.js","scripts":{"test":"./testall.sh"},"repository":{"type":"git","url":"git://github.com/panta82/line-chomper.git"},"keywords":["stream","lines","split","chomp","buffer","cut"],"author":{"name":"panta82"},"license":"Apache 2","bugs":{"url":"https://github.com/panta82/line-chomper/issues"},"homepage":"https://github.com/panta82/line-chomper","devDependencies":{"jasmine-core":"^2.3.0"},"gitHead":"b54a082947b21762f492acc03bb0ea67509b0b86","_id":"line-chomper@0.5.0","_shasum":"e24823490112b63ba50779a97a1a57a6d868d18c","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"panta82","email":"ivanpantic82@gmail.com"},"dist":{"shasum":"e24823490112b63ba50779a97a1a57a6d868d18c","tarball":"http://registry.npmjs.org/line-chomper/-/line-chomper-0.5.0.tgz"},"maintainers":[{"name":"panta82","email":"ivanpantic82@gmail.com"}],"directories":{}}},"readme":"# line-chomper\n\nChomps utf-8 based byte stream into lines. \n\n- Interactive line processing (callback-based, no loading the entire file into RAM)\n- Optionally, return all lines in an array (detailed or raw mode)\n- Interactively interrupt streaming, or perform map/filter like processing\n- Detect any newline convention (PC/Mac/Linux)\n- Correct eof / last line treatment\n- Correct handling of multi-byte UTF-8 characters\n- Retrieve byte offset and byte length information on per-line basis\n- Random access, using line-based or byte-based offsets\n- Automatically map line-offset information, to speed up random access\n- Zero dependencies\n- Tests\n\n**************\n\n### Basic usage\n\n```javascript\n\nvar chomp = require(\"line-chomper\").chomp;\n\nchomp(\"/path/to/file.txt\", function (err, lines) {\n\tlines.forEach(function (line) {\n\t\tconsole.log(line);\n\t});\n});\n\n```\n\n### Interactive processing\n\n```javascript\n\nchomp(\n    \"/path/to/large-file.txt\",\n    function (line, offset, sizeInBytes) {\n        console.log(\"At \" + offset + \": \" + line + \" (size: \" + sizeInBytes + \" b)\");\n    },\n    function (err, count) {\n\t\tconsole.log(\"Processed \" + count + \" lines\");\n\t});\n});\n\n```\n\n### Process arbitrary stream\n\n```javascript\n\nvar req = http.request({ host: url }, function (resStream) {\n\tchomp(resStream, function (err, lines) {\n\t\t/* process lines */\n\t});\n});\n\nreq.on(\"error\", function (e) {\n\tconsole.log(\"problem with request: \" + e.message);\n});\n\nreq.end();\n\n```\n\n### Map / filter using lineCallback\n\n```javascript\n\nvar counter = 0;\nchomp(\n    \"/path/to/file.txt\",\n    {\n\t\treturnLines: true,\n\t\tlineCallback: function (line) {\n\t\t\tif (counter === 10) {\n                return false; // stop streaming\n            }\n            counter++;\n            if (!line) {\n                return null; // filter out\n            }\n            return line.toUpperCase(); // map to uppercase\n\t\t}\n\t},\n    function (err, lines) {\n\t\tconsole.log(lines); // First 10 non-empty lines, converted to uppercase\n\t});\n});\n\n```\n\n### Random access based on line numbers (also can accept byte offsets)\n\n```javascript\n\nchomp(\n\tfs.createReadStream(\"path/to/file\"),\n\t{\n\t\tfromLine: 100,\n\t\ttoLine: 199\n\t},\n\tfunction (err, lines) {\n\t}\n);\n\n```\n\n### Map line offsets to speed up random access in large files\n\n```javascript\n\nrequire(\"line-chomper\").mapLineOffsets(fileName, function (err, lineOffsets) {\n    redis.save(\"offsets.\" + fileName, lineOffsets);\n});\n\n// later...\n\nfunction getExcerpt(fileName, start, count, callback) {\n    redis.get(\"offsets.\" + fileName, function (err, lineOffsets) {\n        chomp(\n            fileName,\n            {\n                lineOffsets: lineOffsets,\n\t\t\t    fromLine: start,\n\t\t\t    lineCount: count\n            },\n            callback\n        );\n    });\n}\n\n```\n\nFor more usage examples, check out the spec folder.\n\n**************\n\n## Options\n\nAll options with defaults and helpful comments can be seen [here](lib/vars.js).\n\n**************\n\n## FAQ\n\n**Q**: Why another line splitter library?\n\n> **A:** I was frustrated with other libraries being\n1. too old / outdated\n2. nice but (I hear) buggy\n3. lacking advanced options for random access that I need for my project\n\n**Q**: Why the name '*-chomper'? That word doesn't mean what you think it means\n> **A:** All the good, obvious names were taken\n\n**Q**: What's next?\n> **A:** Probably a slow decline into the maintenance mode, unless there is pressing need to expand. Bug fixes are always welcome. Also, I might add an advanced asynchronous chunk-by-chunk processing mode, suitable for handling large files with progress reports, buffered DB access and such.\n*TL;DR:*\n1. Bug fixes\n2. Maybe a new feature or two\n3. Profit\n\n**************\n\n## Update log\n\n|Date      |Version|Description\n|----------|-------|-----------\n|2015-05-06|0.5.0  |Added `lineCallback` argument to `mapLineOffsets()`\n\n**************\n\n## Licence\n\nApache v2. I'm told it's nice and fluffy. Read it [here](LICENCE).","maintainers":[{"name":"panta82","email":"ivanpantic82@gmail.com"}],"time":{"modified":"2015-05-06T13:04:23.664Z","created":"2014-05-19T22:25:58.898Z","0.0.4":"2014-05-19T22:25:58.898Z","0.2.1":"2014-05-20T11:26:17.177Z","0.4.0":"2014-05-20T20:36:37.943Z","0.4.2":"2014-05-20T21:48:37.280Z","0.4.3":"2014-06-02T11:07:35.690Z","0.4.4":"2014-07-13T18:47:59.096Z","0.4.5":"2014-08-04T10:57:50.566Z","0.5.0":"2015-05-06T13:04:23.664Z"},"homepage":"https://github.com/panta82/line-chomper","keywords":["stream","lines","split","chomp","buffer","cut"],"repository":{"type":"git","url":"git://github.com/panta82/line-chomper.git"},"author":{"name":"panta82"},"bugs":{"url":"https://github.com/panta82/line-chomper/issues"},"license":"Apache 2","readmeFilename":"README.md","users":{"panta82":true},"_attachments":{},"_etag":"\"BI4LPAYYP8VIG1VYX09FH6D2W\""}